<!DOCTYPE html>
<html>
<head>
  <title>FlashFoley: Fast Interactive Sketch2Audio Generation</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
  integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <meta name="theme-color" content="#563d7c">
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css">
  <style>
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
    }

    td, th {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }
    
    .small-img {
      width: 300px; /* Adjust the width as needed */
      height: auto;
    }
    
    .audio-container {
      margin-bottom: 20px;
    }
    
    .method-name {
      font-weight: bold;
      margin-bottom: 5px;
      padding: 8px;
      background-color: #f8f9fa;
      border-radius: 4px;
    }
    
    .section-title {
      background-color: #f0f0f0;
      padding: 12px;
      border-radius: 4px;
      margin: 30px 0 15px 0;
      font-weight: bold;
      font-size: 2.2em;
    }

    .prompt-title {
      background-color: #f0f0f0;
      padding: 12px;
      border-radius: 4px;
      margin: 30px 0 15px 0;
      font-weight: bold;
      font-size: 1.2em;
    }
    
    .sample-container {
      margin-bottom: 10px;
    }
    
    audio {
      width: 100%;
    }
    
    .sample-label {
      font-size: 0.9em;
      color: #555;
      margin-bottom: 3px;
    }
  </style>
</head>

<body bgcolor="#FFFFFF" link="#000000" vlink="#000000" alink="#000000">

<div class="text-center">
  <br>
  <div class="text-wrap" width="200px">
    <font face="helvetica , ariel, 'sans serif'" size="6">
      <b>FlashFoley: Fast Interactive Sketch2Audio Generation</b><br>
    </font>
  </div>
      
  <div class="container mt-4" style="max-width: 1200px;">
    <div class="container">

      <div class="container mt-4 " style="max-width: 950px;">
        <div class="container">
      
      <div class="section-title">Random Generations</div>
      <!-- Introduction -->
      <div class="row mt-4 mb-4">
        <div class="col-12">
          <p class="text-left">
            This section presents random audio samples generated by the five different methods (SAO-Small base, SAO-Small base + sketch controls, FlashFoley, FlashFoley with BAR Sampling, and FlashFoley with the sketch-based contrastrive loss).
            For each prompt, we show the vocal sketch used for conditioning for all methods with sketch controls. All methods follow the hyperparameters detailed in the appendix.
          </p>
        </div>
      </div>


  <!-- Script to load style transfer files and extract prompts -->
  <script>
    // Function to extract prompt from filename (everything before first period)
    function extractPrompt(filename) {
      return filename.split('.')[0];
    }
  
    // List of file paths to load
    const stylePaths = [
      // Seed 0
      { id: 'seed_0_audio', container: 'seed_0_container', path: 'style_transfer/seed_0/seed/' },
      { id: 'seed_0_gen_0_audio', container: 'seed_0_gen_0_container', path: 'style_transfer/seed_0/generations/', index: 0 },
      { id: 'seed_0_gen_1_audio', container: 'seed_0_gen_1_container', path: 'style_transfer/seed_0/generations/', index: 1 },
      
      // Seed 1
      { id: 'seed_1_audio', container: 'seed_1_container', path: 'style_transfer/seed_1/seed/' },
      { id: 'seed_1_gen_0_audio', container: 'seed_1_gen_0_container', path: 'style_transfer/seed_1/generations/', index: 0 },
      { id: 'seed_1_gen_1_audio', container: 'seed_1_gen_1_container', path: 'style_transfer/seed_1/generations/', index: 1 },
      
      // Seed 2
      { id: 'seed_2_audio', container: 'seed_2_container', path: 'style_transfer/seed_2/seed/' },
      { id: 'seed_2_gen_0_audio', container: 'seed_2_gen_0_container', path: 'style_transfer/seed_2/generations/', index: 0 },
      { id: 'seed_2_gen_1_audio', container: 'seed_2_gen_1_container', path: 'style_transfer/seed_2/generations/', index: 1 }
    ];
  
    // We'll use a fetch approach to get directory listings
    // For a local demo, you'll need to update this to use the actual file paths
    // This is a simplified version - in real implementation, you'd need to get the file list
  
    // Let's simulate the file loading process
    // In a real scenario, you'd iterate through the actual files in those directories
    document.addEventListener('DOMContentLoaded', function() {
      // This would normally fetch the file names from the server
      // For this demo, we'll hardcode example file paths
  
      // Sample file names (in a real scenario, you would get these from the server)
      const sampleFiles = {
        'style_transfer/seed_0/seed/': ['fill in'],
        'style_transfer/seed_0/generations/': ['fill in', 'fill in'],
        'style_transfer/seed_1/seed/': ['fill in'],
        'style_transfer/seed_1/generations/': ['fill in', 'fill in'],
        'style_transfer/seed_2/seed/': ['fill in'],
        'style_transfer/seed_2/generations/': ['fill in', 'fill in']
      };
  
      // Set up the audio players
      stylePaths.forEach(item => {
        const fileList = sampleFiles[item.path];
        let filename;
        
        if (item.hasOwnProperty('index')) {
          // For generations, use the specified index
          filename = fileList[item.index];
        } else {
          // For seeds, just use the first (and only) file
          filename = fileList[0];
        }
        
        // Get prompt from filename
        const prompt = extractPrompt(filename);
        
        // Set the audio source
        const audioElement = document.getElementById(item.id);
        audioElement.src = item.path + filename;
        
        // Set the prompt text
        const containerElement = document.getElementById(item.container);
        containerElement.querySelector('.sample-label').textContent = 'Prompt: ' + prompt;
      });
    });
  </script>

      <hr>
      <footer>
        <div class="container">
          <div class="text-center">
          </div>
        </div>
      </footer>

    </div>
  </div>
</div>

<script>
  // Add JavaScript to toggle the collapsible content
  var buttons = document.querySelectorAll(".collapsible-button");
  buttons.forEach(function (button) {
    button.addEventListener("click", function () {
      var content = this.nextElementSibling;
      if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
    });
  });
</script>
				
</body>
</html>